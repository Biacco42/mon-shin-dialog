import * as common from './common.js';

//------------------------------------------------------------------------------------------
// 初期化処理
//------------------------------------------------------------------------------------------
(() => {
  //------------------------------------------------------------------------------------------
  // 投稿文フォームの前処理
  //-----------------------------------------------------------------------------------------
  const nameToQuestionaire = common.linkNameToQuestionaire();
  common.setupClipboardJS();

  //------------------------------------------------------------------------------------------
  // "change" イベントに投稿文をリアルタイムで作成する処理などを割り当て
  //-----------------------------------------------------------------------------------------
  document.getElementById("questionForm").addEventListener("change", (e) => {

    //------------------------------------------------------------------------------------------
    // 入力内容に応じてラジオボックスなどの使用可否を切り替える
    //-----------------------------------------------------------------------------------------
    common.linkProblemAndTextbox(e);

    //------------------------------------------------------------------------------------------
    // 投稿文を作成
    //-----------------------------------------------------------------------------------------
    common.generatePostText(nameToQuestionaire);

  });
})();